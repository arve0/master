/*
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 3.4.0
build: nightly
*/
YUI.add("widget-child",function(c){var b=c.Lang;function a(){c.after(this._syncUIChild,this,"syncUI");c.after(this._bindUIChild,this,"bindUI");}a.ATTRS={selected:{value:0,validator:b.isNumber},index:{readOnly:true,getter:function(){var e=this.get("parent"),d=-1;if(e){d=e.indexOf(this);}return d;}},parent:{readOnly:true},depth:{readOnly:true,getter:function(){var e=this.get("parent"),d=this.get("root"),f=-1;while(e){f=(f+1);if(e==d){break;}e=e.get("parent");}return f;}},root:{readOnly:true,getter:function(){var d=function(h){var e=h.get("parent"),f=h.ROOT_TYPE,g=e;if(f){g=(e&&c.instanceOf(e,f));}return(g?d(e):h);};return d(this);}}};a.prototype={ROOT_TYPE:null,_getUIEventNode:function(){var d=this.get("root"),e;if(d){e=d.get("boundingBox");}return e;},next:function(f){var e=this.get("parent"),d;if(e){d=e.item((this.get("index")+1));}if(!d&&f){d=e.item(0);}return d;},previous:function(g){var f=this.get("parent"),d=this.get("index"),e;if(f&&d>0){e=f.item([(d-1)]);}if(!e&&g){e=f.item((f.size()-1));}return e;},remove:function(d){var e,f;if(b.isNumber(d)){f=c.WidgetParent.prototype.remove.apply(this,arguments);}else{e=this.get("parent");if(e){f=e.remove(this.get("index"));}}return f;},isRoot:function(){return(this==this.get("root"));},ancestor:function(f){var d=this.get("root"),e;if(this.get("depth")>f){e=this.get("parent");while(e!=d&&e.get("depth")>f){e=e.get("parent");}}return e;},_uiSetChildSelected:function(e){var f=this.get("boundingBox"),d=this.getClassName("selected");if(e===0){f.removeClass(d);}else{f.addClass(d);}},_afterChildSelectedChange:function(d){this._uiSetChildSelected(d.newVal);},_syncUIChild:function(){this._uiSetChildSelected(this.get("selected"));},_bindUIChild:function(){this.after("selectedChange",this._afterChildSelectedChange);}};c.WidgetChild=a;},"3.4.0",{requires:["base-build","widget"]});AUI.add("aui-state-interaction",function(e){var h=e.Lang,d=h.isBoolean,c=h.isString,f=e.getClassName,i="state",j=f(i,"default"),g=f(i,"hover"),b=f(i,"active");var a=e.Component.create({NAME:"stateinteraction",NS:"StateInteraction",ATTRS:{active:{value:false},activeState:{value:true,validator:d},bubbleTarget:{value:null},classNames:{value:{}},"default":{value:false},defaultState:{value:true,validator:d},hover:{value:false},hoverState:{value:true,validator:d},node:{value:null}},EXTENDS:e.Plugin.Base,constructor:function(k){var m=k.host;var l=m;if(e.Widget&&m instanceof e.Widget){l=m.get("contentBox");}k.node=l;a.superclass.constructor.apply(this,arguments);},prototype:{initializer:function(){var k=this;var m=k.get("classNames.active");var l=k.get("classNames.default");var n=k.get("classNames.hover");k._CSS_STATES={active:c(m)?m:b,"default":c(l)?l:j,hover:c(n)?n:g};if(k.get("defaultState")){k.get("node").addClass(k._CSS_STATES["default"]);}k._createEvents();k._attachInteractionEvents();},_attachInteractionEvents:function(){var k=this;var l=k.get("node");l.on("click",k._fireEvents,k);l.on("mouseenter",e.rbind(k._fireEvents,k,"mouseover"));l.on("mouseleave",e.rbind(k._fireEvents,k,"mouseout"));k.after("activeChange",k._uiSetState);k.after("hoverChange",k._uiSetState);k.after("defaultChange",k._uiSetState);},_fireEvents:function(n,m){var k=this;var l=k.get("bubbleTarget");m=m||n.type;if(l){l.fire(m);}return k.fire(m);},_createEvents:function(){var k=this;var l=k.get("bubbleTarget");if(l){k.addTarget(l);}k.publish("click",{defaultFn:k._defClickFn,emitFacade:true});k.publish("mouseout",{defaultFn:k._defMouseOutFn,emitFacade:true});k.publish("mouseover",{defaultFn:k._defMouseOverFn,emitFacade:true});},_defClickFn:function(l){var k=this;k.set("active",!k.get("active"));},_defMouseOutFn:function(){var k=this;k.set("hover",false);},_defMouseOverFn:function(){var k=this;k.set("hover",true);},_uiSetState:function(m){var k=this;var l=m.attrName;if(k.get(l+"State")){var n="addClass";if(!m.newVal){n="removeClass";}k.get("node")[n](k._CSS_STATES[l]);}}}});e.namespace("Plugin").StateInteraction=a;},"1.5.0",{skinnable:false,requires:["aui-base","plugin"]});AUI.add("aui-button-item",function(u){var h=u.Lang,p=h.isString,k=u.getClassName,j="buttonitem",D="boundingBox",b="button",s="contentBox",w=".",v="handler",d="icon",a="iconNode",E="label",c="labelNode",C="only",o="reset",B="state",G="submit",t="title",r="type",e=k(j),l=k(j,d),F=k(j,E),y=k(j,d,E),n=k(j,d,C),i=k(j,E,C),m=k(d),g=new RegExp(m+"-([a-zA-Z0-9-]+)"),x='<button type="button"></button>',f='<span class="'+[l,m].join(" ")+'"></span>',q='<span class="'+F+'"></span>';var z=u.Component.create({NAME:j,AUGMENTS:[u.WidgetChild],ATTRS:{activeState:{value:false},classNames:{},defaultState:{},handler:{lazyAdd:false,value:null},hoverState:{},icon:{value:""},iconNode:{valueFn:function(){return u.Node.create(f);}},id:{valueFn:function(){return u.guid();}},label:{value:""},labelNode:{valueFn:function(){return u.Node.create(q);}},title:{setter:"_setTitle",value:false},type:{validator:function(A){return(A===b||A===G||A===o);},value:b}},HTML_PARSER:{iconNode:function(A){return A.one(w+l);},labelNode:function(A){return A.one(w+F);},icon:function(J){var H=J.one(w+l);if(H){this.set(a,H);var A=H.attr("class");var I=A.match(g);return I&&I[1];}},label:function(H){var A=H.one(w+F);if(A){this.set(c,A);return A.text();}}},constructor:function(A){if(p(A)){A={icon:A};}z.superclass.constructor.call(this,A);},UI_ATTRS:[v,d,E,t,r],prototype:{BOUNDING_TEMPLATE:x,CONTENT_TEMPLATE:null,renderUI:function(){var A=this;A._renderStates();A._renderIconNode();A._renderLabelNode();},syncUI:function(){var A=this;var I=A.get("icon");var H=A.get("label");var J=A.get("title");if(I){A._uiSetIcon(I);}if(H){A._uiSetLabel(H);}if(J){A._uiSetTitle(J);}},_renderIconNode:function(){var A=this;A.get(s).append(A.get(a));},_renderLabelNode:function(){var A=this;A.get(s).append(A.get(c));},_getState:function(H,I){var A=this;var K=A.get(H);var J=K;if(I){K=I.get(H);if(!h.isUndefined(K)){J=K;}}return J;},_renderStates:function(K){var A=this;var J=A.get("parent");var I=A._getState("activeState",J);var M=A._getState("classNames",J);var H=A._getState("defaultState",J);var L=A._getState("hoverState",J);A.plug(u.Plugin.StateInteraction,{activeState:I,classNames:M,defaultState:H,hoverState:L});},_setTitle:function(H){var A=this;if(H===null){H=A.get("label");}else{if(H===false){H="";}}return String(H);},_syncChildrenStates:function(){var A=this;var K=A.get("icon");var I=A.get("label");var L=(K&&I);var M=(!K&&I);var J=(K&&!I);var H=A.get(D);H.toggleClass(y,L);H.toggleClass(n,J);H.toggleClass(i,M);},_uiSetHandler:function(N){var P=this;var M=N;var O=P.get("parent");var H=(O&&O._DEFAULT_CONTEXT)||P._DEFAULT_CONTEXT||P;var L="click";var K=P;var I;if(h.isObject(M)){var Q=M;M=Q.fn||M;H=Q.context||H;L=Q.type||L;I=Q.args;}if(h.isFunction(M)){var J=P._interactionHandle;if(J){J.detach();}var A=u.rbind.apply(u,[M,H,K].concat(I||[]));P._interactionHandle=P.on(L,A);}},_uiSetIcon:function(J){var A=this;var H=A.get(a);var I="show";if(!J){I="hide";}J=k(d,J);H.replaceClass(A._iconPrevVal,J);H[I]();A._syncChildrenStates();A._iconPrevVal=J;},_uiSetLabel:function(J){var A=this;var H=A.get(c);var I="show";if(!J){I="hide";}H.text(J);H[I]();A._syncChildrenStates();},_uiSetTitle:function(I){var A=this;var H=A.get(D);H.setAttribute(t,I);},_uiSetType:function(I){var A=this;var H=A.get(D);H.setAttribute(r,I);}}});u.ButtonItem=z;},"1.5.0",{requires:["aui-base","aui-state-interaction","widget-child"],skinnable:true});